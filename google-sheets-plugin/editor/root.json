{
  "editor": [
    {
      "controlType": "SECTION",
      "identifier": "SELECTOR",
      "children": [
        {
          "label": "Operation",
          "tooltipText": "The command to run on the datasource",
          "description": "Select the operation you would like to execute",
          "propertyName": "rows_commands",
          "configProperty": "actionConfiguration.formData.command.data",
          "controlType": "DROP_DOWN",
          "initialValue": "FETCH_MANY",
          "options": [
            {
              "label": "Fetch Details",
              "value": "FETCH_DETAILS"
            },
            {
              "label": "Insert One",
              "value": "INSERT_ONE"
            },
            {
              "label": "Update One",
              "value": "UPDATE_ONE"
            },
            {
              "label": "Delete One",
              "value": "DELETE_ONE"
            },
            {
              "label": "Fetch Many",
              "value": "FETCH_MANY"
            },
            {
              "label": "Insert Many",
              "value": "INSERT_MANY"
            },
            {
              "label": "Update Many",
              "value": "UPDATE_MANY"
            },
            {
              "label": "Delete Many",
              "value": "DELETE_MANY"
            }
          ]
        },
        {
          "label": "Entity",
          "tooltipText": "The entity to query on the datasource",
          "description": "Select the entity that you would like to work with",
          "propertyName": "entityType",
          "configProperty": "actionConfiguration.formData.entityType.data",
          "controlType": "DROP_DOWN",
          "initialValue": "ROWS",
          "options": [
            {
              "disabled": "{{ ['UPDATE_ONE', 'INSERT_MANY', 'UPDATE_MANY', 'DELETE_MANY'].includes(actionConfiguration.formData.command.data) }}",
              "label": "Spreadsheet",
              "value": "SPREADSHEET"
            },
            {
              "disabled": "{{ ['FETCH_DETAILS', 'INSERT_ONE', 'UPDATE_ONE', 'FETCH_MANY', 'INSERT_MANY', 'UPDATE_MANY', 'DELETE_MANY'].includes(actionConfiguration.formData.command.data) }}",
              "label": "Sheet",
              "value": "SHEET"
            },
            {
              "disabled": "{{ ['DELETE_MANY'].includes(actionConfiguration.formData.command.data) }}",
              "label": "Sheet Row(s)",
              "value": "ROWS"
            }
          ],
          "evaluateFormConfig": {
            "condition": "{{true}}",
            "paths": ["options"]
          }
        },
        {
          "label": "",
          "configProperty": "actionConfiguration.formData.insert.selector.data",
          "controlType": "ENTITY_SELECTOR",
          "conditionals": {
            "show": "{{ new Object({ 'SPREADSHEET': ['FETCH_DETAILS', 'DELETE_ONE'], 'SHEET': ['DELETE_ONE'], 'ROWS': ['INSERT_ONE', 'UPDATE_ONE', 'DELETE_ONE', 'FETCH_MANY', 'INSERT_MANY', 'UPDATE_MANY'] })[actionConfiguration.formData.entityType.data].includes(actionConfiguration.formData.command.data) }}"
          },
          "schema": [
            {
              "label": "Spreadsheet",
              "tooltipText": "The URL of the spreadsheet in your Google Drive",
              "propertyName": "rows_get_spreadsheetUrl",
              "configProperty": "actionConfiguration.formData.sheetUrl.data",
              "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
              "placeholderText": "https://docs.google.com/spreadsheets/d/xyz/edit#gid=0"
            },
            {
              "label": "Sheet Name",
              "propertyName": "rows_get_sheetName",
              "tooltipText": "The name of the sheet inside the spreadsheet",
              "configProperty": "actionConfiguration.formData.sheetName.data",
              "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
              "initialValue": "Sheet1",
              "conditionals": {
                "show": "{{ new Object({ 'SPREADSHEET': [], 'SHEET': ['DELETE_ONE'], 'ROWS': ['INSERT_ONE', 'UPDATE_ONE', 'DELETE_ONE', 'FETCH_MANY', 'INSERT_MANY', 'UPDATE_MANY'] })[actionConfiguration.formData.entityType.data].includes(actionConfiguration.formData.command.data)  }}"
              }
            },
            {
              "label": "Table Heading Row Index",
              "tooltipText": "The index of the column names in the sheet (starts from 1)",
              "propertyName": "rows_get_tableHeadingRowIndex",
              "configProperty": "actionConfiguration.formData.tableHeaderIndex.data",
              "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
              "initialValue": "1",
              "conditionals": {
                "show": "{{ new Object({ 'SPREADSHEET': [], 'SHEET': [], 'ROWS': ['INSERT_ONE', 'UPDATE_ONE', 'DELETE_ONE', 'FETCH_MANY', 'INSERT_MANY', 'UPDATE_MANY'] })[actionConfiguration.formData.entityType.data].includes(actionConfiguration.formData.command.data)  }}"
              }
            }
          ]
        }
      ]
    }
  ],
  "files": ["insert.json", "delete.json", "fetch_many.json", "update.json"]
}
